<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calendar Date Converter</title>
<style>
  body { font-family: system-ui, sans-serif; background: #f7f7fb; padding: 2rem; color: #222; }
  h1 { text-align: center; }
  .container { max-width: 800px; margin: auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
  label { display: block; margin-top: 1rem; font-weight: bold; }
  input[type=number], input[type=range] { width: 100%; }
  .timeline { position: relative; height: 40px; background: #ddd; margin-top: 2rem; border-radius: 20px; }
  .progress { position: absolute; top: 0; left: 0; height: 100%; background: linear-gradient(90deg, #4a90e2, #50c878); border-radius: 20px; }
  .marker { position: absolute; top: -10px; width: 20px; height: 60px; background: #ff4757; border-radius: 10px; transform: translateX(-50%); }
  .result { text-align: center; font-size: 1.2rem; margin-top: 1.5rem; }
</style>
</head>
<body>
  <div class="container">
    <h1>ðŸ“… Calendar Date Converter</h1>

    <label>Start month (1â€“12):</label>
    <input type="number" id="startMonth" min="1" max="12" value="1">

    <label>Start day:</label>
    <input type="number" id="startDay" min="1" max="31" value="1">

    <label>Days passed: <span id="daysPassedLabel">0</span></label>
    <input type="range" id="daysPassed" min="0" max="365" value="0">

    <label>Old month length (days): <span id="oldDaysLabel">30</span></label>
    <input type="range" id="oldDays" min="20" max="40" value="30">

    <label>New month length (days): <span id="newDaysLabel">25</span></label>
    <input type="range" id="newDays" min="20" max="40" value="25">

    <div class="timeline">
      <div class="progress" id="progress"></div>
      <div class="marker" id="marker"></div>
    </div>

    <div class="result" id="result">Resulting date: Month 1, Day 1</div>
  </div>

  <script>
    const startMonth = document.getElementById("startMonth");
    const startDay = document.getElementById("startDay");
    const daysPassed = document.getElementById("daysPassed");
    const oldDays = document.getElementById("oldDays");
    const newDays = document.getElementById("newDays");

    const result = document.getElementById("result");
    const progress = document.getElementById("progress");
    const marker = document.getElementById("marker");

    const daysPassedLabel = document.getElementById("daysPassedLabel");
    const oldDaysLabel = document.getElementById("oldDaysLabel");
    const newDaysLabel = document.getElementById("newDaysLabel");

    function update() {
      const startM = parseInt(startMonth.value);
      const startD = parseInt(startDay.value);
      const passed = parseInt(daysPassed.value);
      const oldLen = parseInt(oldDays.value);
      const newLen = parseInt(newDays.value);

      daysPassedLabel.textContent = passed;
      oldDaysLabel.textContent = oldLen;
      newDaysLabel.textContent = newLen;

      // total days from old system
      let totalDays = (startM - 1) * oldLen + (startD - 1) + passed;

      // convert to new system
      let newMonth = Math.floor(totalDays / newLen) + 1;
      let newDay = (totalDays % newLen) + 1;

      result.textContent = `Resulting date: Month ${newMonth}, Day ${newDay}`;

      // timeline visualization
      const percent = Math.min((passed / 365) * 100, 100);
      progress.style.width = percent + "%";
      marker.style.left = percent + "%";
    }

    document.querySelectorAll("input").forEach(inp => inp.addEventListener("input", update));
    update();
  </script>
</body>
</html>