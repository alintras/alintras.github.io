<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>ðŸ’–ðŸ’–ðŸ’–</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="amore.png">
    <link rel="icon" type="image/png" sizes="16x16" href="amore.png">
    <link rel="apple-touch-icon" sizes="180x180" href="amore.png">
    <link rel="shortcut icon" href="amore.png" type="image/png?v=2">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        * { box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body {
            margin: 0; height: 100vh;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .card {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px);
            border-radius: 24px; padding: 40px; width: 360px; text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15); z-index: 10;
        }
        .buttons { display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 20px; }
        button { border: none; border-radius: 999px; padding: 14px 28px; font-size: 16px; font-weight: 600; cursor: pointer; }
        #yesBtn { background: linear-gradient(135deg, #ff5f6d, #ffc371); color: white; box-shadow: 0 8px 20px rgba(255, 95, 109, 0.4); }
        #noBtn {
            background: #e0e0e0; color: #555; position: absolute; z-index: 1000;
            transition: left 0.3s cubic-bezier(0.2, 0, 0.2, 1), top 0.3s cubic-bezier(0.2, 0, 0.2, 1);
        }
        .result { display: none; animation: fadeIn 0.8s ease; }
        .result img { width: 100%; border-radius: 16px; margin-top: 15px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .confetti { position: fixed; width: 10px; height: 10px; top: -10px; animation: fall 3s linear forwards; z-index: 9999; }
        @keyframes fall { to { transform: translateY(110vh) rotate(720deg); opacity: 0; } }
    </style>
</head>
<body>

<div class="card" id="card">
    <div id="mainContent">
        <h1>Vivi, Willst du mein Valentine sein? ðŸ’˜</h1>
        <div class="buttons">
            <button id="yesBtn">Ja! ðŸ’–</button>
            <div style="width: 110px; height: 45px;"></div>
        </div>
    </div>
    <div class="result" id="result">
        <h1>Juhuuu! ðŸ’•</h1>
        <p>Ich wusste es doch! ðŸ˜Œ</p>
        <img src="https://gifdb.com/images/file/boa-hancock-luffy-hug-one-piece-mky2wqjlocxpo7zz.gif">
    </div>
</div>

<button id="noBtn">Nee... ðŸ™ƒ</button>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const result = document.getElementById("result");
const mainContent = document.getElementById("mainContent");

const boxWidth = 800; 
const boxHeight = 500;

function updateNoButtonPos() {
    const yesRect = yesBtn.getBoundingClientRect();
    noBtn.style.transition = "none";
    noBtn.style.left = (yesRect.right + 15) + "px";
    noBtn.style.top = yesRect.top + "px";
}
window.addEventListener('load', updateNoButtonPos);

// Hilfsfunktion: PrÃ¼ft, ob ein Punkt (Cursor) nah an einer Linie (Weg des Buttons) liegt
function intersectsCursor(x1, y1, x2, y2, cx, cy, radius) {
    const dx = x2 - x1;
    const dy = y2 - y1;
    const lengthSq = dx * dx + dy * dy;
    let t = ((cx - x1) * dx + (cy - y1) * dy) / lengthSq;
    t = Math.max(0, Math.min(1, t));
    const closestX = x1 + t * dx;
    const closestY = y1 + t * dy;
    const distSq = (cx - closestX) ** 2 + (cy - closestY) ** 2;
    return distSq < radius * radius;
}

document.addEventListener("mousemove", (e) => {
    const btnRect = noBtn.getBoundingClientRect();
    const bx = btnRect.left + btnRect.width / 2;
    const by = btnRect.top + btnRect.height / 2;
    const dist = Math.hypot(e.clientX - bx, e.clientY - by);

    if (dist < 90) {
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        let nx, ny, attempts = 0;

        do {
            nx = (centerX - boxWidth / 2) + Math.random() * boxWidth;
            ny = (centerY - boxHeight / 2) + Math.random() * boxHeight;
            attempts++;
        } while (Math.hypot(e.clientX - nx, e.clientY - ny) < 180 && attempts < 30);

        // Check: WÃ¼rde der Button beim Gleiten die Maus berÃ¼hren? (Radius 60px)
        if (intersectsCursor(bx, by, nx, ny, e.clientX, e.clientY, 65)) {
            noBtn.style.transition = "none"; // Teleport
        } else {
            noBtn.style.transition = "left 0.3s ease-out, top 0.3s ease-out"; // Sanftes Gleiten
        }

        noBtn.style.left = nx + "px";
        noBtn.style.top = ny + "px";
    }
});

function createConfetti() {
    for (let i = 0; i < 70; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "vw";
        c.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
        c.style.animationDuration = (Math.random() * 2 + 2) + "s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 4000);
    }
}

yesBtn.addEventListener("click", () => {
    mainContent.style.display = "none";
    noBtn.style.display = "none";
    result.style.display = "block";
    createConfetti();
});
</script>

</body>
</html>
